<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>
<?import java.time.format.DateTimeFormatter?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.eventra.controller.AttendeeEventsController"
            stylesheets="@../css/styles.css"
            styleClass="main-container">

    <!-- Header -->
    <top>
        <HBox styleClass="header" alignment="CENTER_LEFT" spacing="20">
            <padding>
                <Insets top="15" right="20" bottom="15" left="20"/>
            </padding>
            
            <!-- Logo -->
            <Text text="Eventra" styleClass="logo-text" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
            
            <!-- Navigation -->
            <HBox spacing="30" alignment="CENTER_LEFT">
                <Button text="My Schedule" styleClass="attendee-nav-button" onAction="#handleMySchedule"/>
                <Button text="Browse Events" styleClass="attendee-nav-button active" onAction="#handleBrowseEvents"/>
            </HBox>
            
            <!-- Search Bar -->
            <HBox alignment="CENTER_RIGHT" HBox.hgrow="ALWAYS">
                <TextField fx:id="searchField" promptText="Search events..." styleClass="search-field"/>
                <Button text="🔍" styleClass="search-button" onAction="#handleSearch"/>
            </HBox>
            
            <!-- Profile Icon -->
            <Button fx:id="profileButton" text="👤" styleClass="profile-button" onAction="#handleProfile"/>
        </HBox>
    </top>

    <!-- Main Content -->
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" style="-fx-background: transparent; -fx-background-color: transparent;">
            <HBox spacing="20" styleClass="main-content">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
                
                <!-- Left Sidebar - Date Filter -->
                <VBox styleClass="sidebar" spacing="15" minWidth="200" maxWidth="200">
                    <Text text="Date" styleClass="sidebar-title"/>
                    
                    <VBox spacing="10">
                        <RadioButton fx:id="todayRadio" text="Today" selected="true" 
                                    styleClass="filter-radio" onAction="#handleDateFilter"/>
                        <RadioButton fx:id="tomorrowRadio" text="Tomorrow" 
                                    styleClass="filter-radio" onAction="#handleTomorrowToggle"/>
                        <RadioButton fx:id="weekendRadio" text="This weekend" 
                                    styleClass="filter-radio" onAction="#handleDateFilter"/>
                        <RadioButton fx:id="pickDateRadio" text="Pick a date..." 
                                    styleClass="filter-radio" onAction="#handlePickDate"/>
                    </VBox>
                    
                    <!-- Selected Date Display -->
                    <VBox fx:id="selectedDateContainer" spacing="5" visible="false">
                        <Text fx:id="selectedDateText" style="-fx-font-weight: bold; -fx-fill: #007bff;"/>
                        <Button text="Clear Date" styleClass="link-button" onAction="#handleClearDate"/>
                    </VBox>
                </VBox>
                
                <!-- Main Content Area -->
                <VBox styleClass="content-area" spacing="30" HBox.hgrow="ALWAYS">
                    
                    <!-- Coming Soon Events -->
                    <VBox spacing="15">
                        <Text text="Coming soon Events" styleClass="section-title"/>
                        <HBox fx:id="comingSoonContainer" spacing="20" styleClass="event-grid"/>
                    </VBox>
                    
                    <!-- All Events -->
                    <VBox spacing="15">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Text text="All Events" styleClass="section-title"/>
                            <Text fx:id="eventCountText" text="(12)" styleClass="event-count"/>
                        </HBox>
                        <FlowPane fx:id="allEventsContainer" hgap="20" vgap="20" styleClass="event-grid"/>
                    </VBox>
                </VBox>
                
                <!-- Right Sidebar - Featured Organizers -->
                <VBox styleClass="sidebar" spacing="15" minWidth="250" maxWidth="250">
                    <Text text="Featured Organizers" styleClass="sidebar-title"/>
                    
                    <VBox fx:id="organizersContainer" spacing="15">
                        <!-- Organizers will be loaded dynamically -->
                    </VBox>
                    
                    <Button text="Discover more organizers" styleClass="link-button" onAction="#handleDiscoverOrganizers"/>
                </VBox>
            </HBox>
        </ScrollPane>
    </center>

    <!-- Footer -->
    <bottom>
        <HBox styleClass="footer" alignment="CENTER" spacing="20">
            <Text text="© 2023 Eventify Inc.. All rights reserved." styleClass="footer-text"/>
            <HBox spacing="15" alignment="CENTER_RIGHT" HBox.hgrow="ALWAYS">
                <Text text="LinkedIn" styleClass="footer-link"/>
                <Text text="Instagram" styleClass="footer-link"/>
                <Text text="Facebook" styleClass="footer-link"/>
            </HBox>
        </HBox>
    </bottom>

</BorderPane> 